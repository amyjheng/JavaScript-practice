<!DOCTYPE html>
<html lang="zh-tw">
<head>
    <meta charset="UTF-8">
    <title>02fetch.html</title>
</head>
<body>
    <div id="theDiv"></div>
    <script>
            //then方法用來定義非同步行為完成後的動作，可以接受一個函式

            fetch('ajaxText.txt')
            .then(function(response) {
                console.log(response.status,response.ok);                    
                return response.text();
            })
            .then(function(text) {
                console.log('Request successful', text);  
                document.getElementById('theDiv').innerHTML = text;
            })
            .catch(function(error) {
                console.log('Request failed', error)
            });  

            // fetch('ajaxText.txt')
            //     .then(response=>{
            //           console.log(response.status,response.ok);
            //           if (!response.ok) throw new Error(response.statusText)
            //               return response.text();
            //     })
            //     .then(text=>{
            //           document.getElementById('theDiv').innerHTML = text;
            //     });   
    </script>
</body>
</html>