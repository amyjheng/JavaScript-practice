<!DOCTYPE html>
<html lang="zh-tw">
<head>
    <meta charset="UTF-8">
    <title>02checkPassword.html</title>
</head>
<body>
    <label>Password:</label>
    <input type="text" id="idPwd" value="123" size="6" onblur="checkPwd();" /><!-- 瀏覽器執行到此標籤會建立一個物件-->
    <span id="idsp"></span><br />
    <!--<input type="button" value="checkPassword" onclick="checkPwd()" />-->
    <!--onblur 游標離開目前元素-->
   
    <script>
        function checkPwd() {
            //取得idPwd元素
            let thePwdObj = document.getElementById("idPwd");

            //取得idPwd元素值
            let thePwdObjVal = thePwdObj.value;
            //console.log(thePwdObjVal);  //123
            //console.log(typeof thePwdObjVal);  //string

            let thePwd = document.getElementById("idPwd").value;
            //console.log(thePwd);  //123
            let sp = document.getElementById("idsp");
            let thePwdLen = thePwd.length;
            let flag1 = false, flag2 = false, flag3 = false;

            //判斷元素值是否為空白，密碼長度是否大於6
            //如果長度是否大於6，判斷是否包含字母、數字、特殊符號
            if (thePwd == "") {
                sp.innerHTML = "you must enter";
            } else if (thePwdLen >= 6) {
                //sp.innerHTML =">=6";
                for (let i = 0; i < thePwdLen; i++) {
                    let ch = thePwd.charAt(i).toUpperCase();
                    //console.log(ch);
                    if (ch >= "A" && ch <= "Z")
                        flag1 = true;
                    else if (ch >= "0" && ch <= "9")
                        flag2 = true;
                    if (flag1 && flag2) break;
                }
                if (flag1 && flag2)
                    sp.innerHTML = "<img style='width: 20px' src='images/ok.png' />correct";
                else
                    sp.innerHTML = "incorrect";
            } else {
                sp.innerHTML = "Password length must be greater than 6";
            }
        }
    </script>
</body>
</html>
